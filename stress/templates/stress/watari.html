{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'favicon.ico' %}">

    <title>チュービンゲン情報</title>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="{% static 'css/blog_edited.css' %}" rel="stylesheet">

    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="{% static 'css/ie10-viewport-bug-workaround.css' %}" rel="stylesheet">

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="{% static 'js/ie-emulation-modes-warning.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{% static 'js/vendor/jquery.min.js' %}"><\/script>')</script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    <style>
      #jquery-ui-sortable {
          list-style-type: none;
          margin: 0;
          padding: 0;
          width: 100%;
      }
      #jquery-ui-sortable li {
          margin: 0 3px 3px 3px;
          padding: 0.3em;
          padding-left: 1em;
          font-size: 15px;
          font-weight: bold;
          cursor: move;
          background: #90EE90;
      }
    </style>

      <script>
      $(function () {
        $( "#jquery-ui-sortable" ).sortable();
        $( "#jquery-ui-sortable" ).disableSelection();
        $( "#jquery-ui-sortable" ).sortable({
              update: function(e,ui){
                var result = $("#jquery-ui-sortable").sortable("toArray");
                $("#result").val(result);
              }
            });
      });
    </script>

  </head>

    <body>
<!--      <div style="background-color:#F9F9F9;"> -->
  <!-- Custom styles for this template -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77355375-1', 'auto');
  ga('send', 'pageview');

</script>


<!-- NAVBAR
================================================== -->
  <div class="navbar-wrapper">
    <div class="container">

      <nav class="navbar navbar-inverse navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

      <a class="navbar-brand" href="{% url 'top_page:positive' %}">Tü &hearts;</a>
         </div>
          <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                 <li><a href="{% url 'top_page:index' %}">Home</a></li>
                 <li><a href="{% url 'giveinfo:about' %}">About</a></li>
                 <li><a href="{% url 'giveinfo:contact' %}">Contact</a></li>
              </ul>
          </div>
       </div>
    </nav>
   </div>
  </div>

  <!-- content
  ================================================== -->
  <div class="container">
    <div class="whiteback">

    </div>
  </div>

<div class="container">

  <div class="whiteback">

  <div class="blog-header">
    <h1 class="blog-title">渡し舟</h1>
      <p class="lead blog-description">The Ferryboat</p>
    <br>

    <div class="col-sm-12">
        まずは、以下の物語をお読みください。
    </div>
  </div>

  <br>
  <br>

  <blockquote>
    あるところにEmmaとBenというカップルがいました。
    <br>
    2人の家は大きな川を隔てた隣同士にあり、橋を渡って逢瀬をしていました。
    <br>
    しかし、ある日嵐による洪水で橋が崩れ、町中が大きな被害を受けました。
    <br>
    この町で船を持っているのは2人しかいません。
    <br>
    Emmaは消息の掴めないBenが心配でたまらず、1人目の船を持っているLuisの元に行き向こう岸に渡らせてくれないかと頼みました。
    <br>
    するとLuisは「この雨の中で命をかけていくなら50,000ユーロはもらいたい」と要求します。
    <br>
    Emmaにはそんな大金はありません。
    <br>
    しかたなく2人目のPaulに頼みに行きました。
    <br>
    するとPaulは「君を抱かせてくれるなら行ってもいい」と言いました。
    <br>
    Emmaは悩んだ末、Paulの要求を呑みました。
    <br>
    向こう岸に渡り、無事Benと出会えたEmma。
    <br>
    しかしBenは彼女がどのようにしてここまで来たのかを知ると激怒し、別れを切り出してきました。
    <br>
    「あなたを心配して、危険な川を渡ったのに・・・」Emmaは絶望し、毎日泣き暮らします。
    <br>
    そんな中、全ての行程を見ていた以前からEmmaを好きだったLukasが彼女を心配し傍で励まし続けました。
    <br>
    そして2人は結婚し、幸せになりました。
　　　</blockquote>


<div class="row">

<div class="col-sm-10 blog-main">
<div class="blog-post">

  <div class="container">
      　 <p><strong>Question:</strong></p>
         <p>この物語の登場人物を、自分が<strong>上から好ましいと思う順に</strong>ドラッグ＆ドロップで並び替えてください。</p>
         <br>
         <div class="col-sm-1 blog-main">
         </div>
         <div class="col-sm-8 blog-main">
           <ul id="jquery-ui-sortable">
              <li class="ui-state-default" id="emma"><strong>Emma</strong> : 恋人と再会するためなら身体を売ることをいとわない女性。結局、新しい恋人と結ばれた。</li>
              <li class="ui-state-default" id="ben"><strong>Ben</strong> : 自分を心配して駆けつけたEmmaが不貞をしていたことを知り、関係を一方的に解消した。</li>
              <li class="ui-state-default" id="luis"><strong>Luis</strong> : 船を持っている男性その１。Emmaに助けを求められたとき、対価として大金を要求した。</li>
              <li class="ui-state-default" id="paul"><strong>Paul</strong> : 船を持っている男性その2。Emmaに助けを求められたとき、対価として身体を要求した。</li>
              <li class="ui-state-default" id="lukas"><strong>Lukas</strong> : EmmaがBenに振られるまでは何もしなかったが、Emmaが振られた後に優しくし結ばれる。</li>
          </ul>
         </div>
  </div>

  <br>
  <br>
  <div class="col-sm-6 blog-main">
  </div>
  <div class="col-sm-6 blog-main">
    <a class="btn btn-success" id="run" role="button" value="Show Div" onclick="showDiv()">結果を見る &raquo;</a>
  </div>

  <br>
  <br>

  <hr>

  <br>

  <div class="row">

  <br>

  <div id="welcomeDiv"  style="display:none;" class="answer_list" >

    <br>

    <h2>解説と結果</h2>

     <div class="container">
      <div class="col-sm-10">
        <div class="alert alert-success" role="alert" id="explanation"></div>
      </div>
    </div>

        <br>
        <br>

    <div class="container">
     <div class="col-sm-10">
       <h3><span class="glyphicon glyphicon-arrow-right" aria-hidden="true" id="tip"> </span></h3>
     </div>
   </div>

        <br>
        <br>
        <br>

      <div class="container">
        <div class="col-sm-10">
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> あなたの開示成分は・・・<strong id="open"></strong> %
          </div>
          <div class="panel-body">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" id="openExp"> </span>
          </div>
        </div>
      </div>
    </div>

        <br>

      <div class="container">
        <div class="col-sm-10">
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> あなたの盲点成分は・・・<strong id="blind"></strong> %
          </div>
          <div class="panel-body">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" id="blindExp"> </span>
          </div>
        </div>
      </div>
      </div>

          <br>

      <div class="container">
        <div class="col-sm-10">
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> あなたの秘密成分は・・・<strong id="secret"></strong> %
          </div>
          <div class="panel-body">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" id="secretExp"> </span>
          </div>
        </div>
      </div>
      </div>

            <br>

      <div class="container">
        <div class="col-sm-10">
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> あなたの未知成分は・・・<strong id="unknown"></strong> %
          </div>
          <div class="panel-body">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" id="unknownExp"> </span>
          </div>
        </div>
      </div>
      </div>

    </div>
<!--    <div class="progress">
      <div class="progress-bar progress-bar-primary" role="progressbar" style="width:25%">
        Free Space
      </div>
      <div class="progress-bar progress-bar-success" role="progressbar" style="width:25%">
        Free Space
      </div>
      <div class="progress-bar progress-bar-warning" role="progressbar" style="width:25%">
        Warning
      </div>
      <div class="progress-bar progress-bar-danger" role="progressbar" style="width:25%">
        Danger
      </div>
    </div>  -->

    </div>

　　　<br>

<!-- give explanation -->
<script language="javascript">
function watari(){
  // johari.js

  var one = parseInt(document.getElementById("one").value);
  var two = parseInt(document.getElementById("two").value);

  var chart = new CanvasJS.Chart("chartContainer", {

    axisX:{
       minimum: 0,
       maximum: 100,
       interval: 10,
       gridColor: "#FFBFD5",
       title: "あなたが知っているあなた",
       titleFontSize: 15,
       gridThickness: 3,
     },
     axisY:{
       minimum: 0,
       maximum: 100,
       interval: 10,
       gridColor: "lightblue",
       title: "あなたの周りが知っているあなた",
       titleFontSize: 15,
       gridThickness: 3,
     },
     data: [{
             indexLabelLineColor: "blue",
             type: "line" ,
             lineThickness: 5,
             dataPoints : [
               { x: 0, y: two },
               { x: 100, y: two },
             ]
           },
           {
             indexLabelLineColor: "green",
             type: "line" ,
             lineThickness: 5,
             dataPoints : [
               { x: one, y: 0 },
               { x: one, y: 100 },
             ]
           }
         ]
       });
     chart.render();


     var open = Math.round(one*two/100);
     var blind = Math.round((100-one)*two/100);
     var secret = Math.round(one*(100-two)/100);
     var unknown = Math.round((100-one)*(100-two)/100);

     document.getElementById("explanation").innerHTML = "ジョハリの窓は、自分が" +
     "どのようなコミュニケーションをしているかを知るためのテストです。自分、というものを、開示、盲点、" +
     "秘密、未知の4つの側面に分類し、自分と他者とのかかわり方に関する理解を深めます。本来はあなたを知っている複数の他者" +
     "を含めて行いますが、今回は簡単な自己診断バージョンをやっていただきました。";

     if(one>two+15){
       document.getElementById("tip").innerHTML = "自分のことをあまり周りに開示しない人ですか？" +
       "相手の質問に、自分の情報を加えて返すなど、もっとオープンに自分を出していけるといいかもしれないです。";
     }
     else if(two>one+15){
       document.getElementById("tip").innerHTML = "周りからの指摘にはっとすることが多いですか？" +
       "相手の求める自分になるのではなく、たまには自分の思い、願いを、自分に問いかける時間を作れるといいかもしれないです。";
     }
     else{
       document.getElementById("tip").innerHTML = "自分が知っている自分と、周りが知っている自分のバランスがとれているようです。";
     }

     document.getElementById("open").innerHTML = open;
     document.getElementById("blind").innerHTML = blind;
     document.getElementById("secret").innerHTML = secret;
     document.getElementById("unknown").innerHTML = unknown;

     document.getElementById("openExp").innerHTML = "グラフの" +
     "左下の四角が「開示の領域」で、あなたも周りも知っているあなたのこと（行動、知識、能力、学歴、性格などなど、パブリックヒストリー）を表します。これが縦横のバランスよく" +
     "広がっていれば、きっとあなたは周りとのコミュニケーションがうまくいっています。周りの人が知っているあなたと、あなたが思うあなたにギャップが少ないので、人間関係が上手く行きやすいです。";
     document.getElementById("blindExp").innerHTML = "グラフの左上の四角が" +
     "「盲目の領域」で、あなたは知らないけれど周りは知っているあなたのことを表します。例えば、どうしてもなじめない集団とかってないですか？" +
     "そこでは、あなたの知らない何かがあなたに不足していて、それが理由であなたが拒絶されているのかもしれません。";
     document.getElementById("secretExp").innerHTML = "グラフの右下の四角が「秘密の領域」で、あなたは知っているけれども周りはしらない" +
     "あなたのことを表します。文字通り、あなたが秘密にし、周りに隠していることです。誰にも相談できない片想いの人、将来の夢、過去の傷などなどです。";
     document.getElementById("unknownExp").innerHTML = "グラフの右上の四角が「未知の領域」で、だれも知らないあなたのことです。そこに何があるのかは、" +
     "今のところ誰にもわかりません。今後、あなたの主体的な行動と他者からのフィードバックによって、発見されていく成分です。";

}

var runButton = document.getElementById("run");
runButton.addEventListener("click", watari);
</script>

<script>
function showDiv() {
   document.getElementById('welcomeDiv').style.display = "block";
}
</script>


      </div><!-- /.row -->

    </div><!-- /.container -->

    </div><!-- /.whiteback -->

  </div>

    <!-- footer -->
      <footer class="blog-footer">
       <p>
          <a href="{% url 'stress:johari' %}">
            <p class="text-center">Back to top (回答結果はクリアされます)</p>
          </a>
       </p>
      </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{% static 'js/jquery.backstretch.min.js' %}"></script>

    <script type="text/javascript">
       $.backstretch("../../../static/gallary/suzu19.jpg");
    </script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>
  </body>
</html>

{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'favicon.ico' %}">

    <title>チュービンゲン情報</title>

    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="{% static 'css/ie10-viewport-bug-workaround.css' %}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{% static 'css/blog_edited.css' %}" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="{% static 'js/ie-emulation-modes-warning.js' %}"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
    <body>
<!--      <div style="background-color:#F9F9F9;"> -->

<!-- NAVBAR
================================================== -->
  <div class="navbar-wrapper">
    <div class="container">

      <nav class="navbar navbar-inverse navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

      <a class="navbar-brand" href="{% url 'top_page:positive' %}">Tü &hearts;</a>
         </div>
          <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                 <li><a href="{% url 'top_page:index' %}">Home</a></li>
                 <li><a href="{% url 'giveinfo:about' %}">About</a></li>
                 <li><a href="{% url 'giveinfo:contact' %}">Contact</a></li>
                 <li class="dropdown">
                 <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Others <span class="caret"></span></a>
                 <ul class="dropdown-menu active">
                   <li><a href="{% url 'stress:index' %}">適応能力チェック</a></li>
                   <li><a href="{% url 'stress:johari' %}">ジョハリの窓</a></li>
                 </ul>
               </li>
              </ul>
          </div>
       </div>
    </nav>
   </div>
  </div>

  <!-- content
  ================================================== -->
  <div class="container">
    <div class="whiteback">

    </div>
  </div>



<div class="container">

  <div class="whiteback">

  <div class="blog-header">
    <h1 class="blog-title">ジョハリの窓</h1>
      <p class="lead blog-description">The Johari Window</p>
    <br>

    <div class="col-sm-12">
      <div class="alert alert-success" role="alert">
        <ul>
          <li>あなたの全てを<strong>１００</strong>とするとき、
            <strong>あなた自身</strong>があなたをどのくらい知っていると思うか、
            <strong>Q１</strong>のスライダーを動かして答えてください。</li>
          <li>あなたの全てを<strong>１００</strong>とするとき、
            <strong>周りの人たち</strong>があなたをどのくらい知っていると思うか、
            <strong>Q２</strong>のスライダーを動かして答えてください。</li>
          <li>２つのスライダーをセットし終わったら、「結果を見る」ボタンを押してください。結果と解説が表示されます。</li>
        </ul>
      </div>
    </div>
  </div>



<div class="row">

<div class="col-sm-10 blog-main">
<div class="blog-post">

  <div class="container">
      　 <p><strong>Question 1:</strong></p>
         <FONT size="5">あなた自身は、あなたのことをどのくらい知っていると思いますか？</FONT>
         <br>

         <br>

         <div class="col-sm-1 blog-main">
         </div>
         <div class="col-sm-8 blog-main">
            <input type="range" id="one" value="0">
         </div>
         <div class="col-sm-1 blog-main">
         </div>

  </div>

      <br>

  <div class="container">
      　 <p><strong>Question 2:</strong></p>
         <FONT size="5">あなたの周りの人たちは、あなたのことをどのくらい知っていると思いますか？</FONT>
         <br>

         <br>

         <div class="col-sm-1 blog-main">
         </div>
         <div class="col-sm-8 blog-main">
            <input type="range" id="two" value="0">
         </div>
         <div class="col-sm-1 blog-main">
         </div>

  </div>

  <br>
  <br>
  <br>
  <div class="col-sm-6 blog-main">
  </div>
  <div class="col-sm-6 blog-main">
    <a class="btn btn-success" id="run" role="button" value="Show Div" onclick="showDiv()">結果を見る &raquo;</a>
  </div>

  <br>
  <br>

  <hr>

  <br>

    <div class="row">
      <div class="container">

        <div class="col-sm-2 blog-main">
        </div>
        <div class="col-sm-9 blog-main">
         <div id="chartContainer" style="height: 400px; width: 400px;"></div>
      </div>
      <div class="col-sm-1 blog-main">
      </div>

    </div>

    <br>

    <div id="welcomeDiv"  style="display:none;" class="answer_list" >

        <div id="explanation"></div>

        <br>

        <div id="tip"></div>

        <br>

        <ul>
          <dt>あなたの開示度は・・・<h3 id="open"></h3>です</dt>
            <dd><p id="openExp"></p></dd>
          <dt>あなたの盲目度は・・・<p id="blind"></p>です</dt>
            <dd><p id="blindExp"></p></dd>
          <dt>あなたの秘密度は・・・<p id="secret"></p>です</dt>
            <dd><p id="secretExp"></p></dd>
          <dt>あなたの未知度は・・・<p id="unknown"></p>です</dt>
            <dd><p id="unknownExp"></p></dd>
        </ul>

    </div>
<!--    <div class="progress">
      <div class="progress-bar progress-bar-primary" role="progressbar" style="width:25%">
        Free Space
      </div>
      <div class="progress-bar progress-bar-success" role="progressbar" style="width:25%">
        Free Space
      </div>
      <div class="progress-bar progress-bar-warning" role="progressbar" style="width:25%">
        Warning
      </div>
      <div class="progress-bar progress-bar-danger" role="progressbar" style="width:25%">
        Danger
      </div>
    </div>  -->

    </div>

　　　<br>

<!-- chart -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js"></script>
<script language="javascript">
function johari(){
  // johari.js

  var one = parseInt(document.getElementById("one").value);
  var two = parseInt(document.getElementById("two").value);

  var chart = new CanvasJS.Chart("chartContainer", {

    axisX:{
       minimum: 0,
       maximum: 100,
       interval: 10,
       gridColor: "#FFBFD5",
       title: "あなたが知っているあなた",
       titleFontSize: 15,
       gridThickness: 3,
     },
     axisY:{
       minimum: 0,
       maximum: 100,
       interval: 10,
       gridColor: "lightblue",
       title: "あなたの周りが知っているあなた",
       titleFontSize: 15,
       gridThickness: 3,
     },
     data: [{
             indexLabelLineColor: "blue",
             type: "line" ,
             lineThickness: 5,
             dataPoints : [
               { x: 0, y: two },
               { x: 100, y: two },
             ]
           },
           {
             indexLabelLineColor: "green",
             type: "line" ,
             lineThickness: 5,
             dataPoints : [
               { x: one, y: 0 },
               { x: one, y: 100 },
             ]
           }
         ]
       });
     chart.render();
}

var runButton = document.getElementById("run");
runButton.addEventListener("click", johari);

var open = Math.round(one*(100-two)/100);
var blind = Math.round((100-one)*(100-two)/100);
var secret = Math.round(one*two/100);
var unknown = Math.round((100-one)*two/100);

document.getElementById("explanation").innerHTML = "ジョハリの窓は、自分が" +
"どのようなコミュニケーションをしているかを知るためのテストです。自分、というものを、開示、盲点、" +
"秘密、未知の4つの側面に分類し、自分と他者とのかかわり方に関する理解を深めます。本来はあなたを知っている複数の他者" +
"を含めて行いますが、今回は簡単な自己診断バージョンをやっていただきました。";

if(one>two+25){
  document.getElementById("tip").innerHTML = "自分のことをあまり周りに開示しない人ですか？" +
  "相手の質問に、自分の情報を加えて返すなど、もっとオープンに自分を出していけるといいかもしれないです。";
}
else if(two>one+25){
  document.getElementById("tip").innerHTML = "周りからの指摘にはっとすることが多いですか？" +
  "相手の求める自分になるのではなく、たまには自分の思い、願いを、自分に問いかける時間を作れるといいかもしれないです。";
}
else{
  document.getElementById("tip").innerHTML = "自分が知っている自分と、周りが知っている自分のバランスがとれているようです。";
}

document.getElementById("open").innerHTML = open;
document.getElementById("blind").innerHTML = blind;
document.getElementById("secret").innerHTML = secret;
document.getElementById("unknown").innerHTML = unknown;

document.getElementById("openExp").innerHTML = "グラフの" +
"左上の四角が「開示の領域」で、あなたも周りも知っているあなたのこと（パブリックヒストリー）を表します。これが縦横のバランスよく" +
"広がっていれば、きっとあなたは周りとのコミュニケーションがうまくいっていて、幸せを感じていることと思います。";
document.getElementById("blindExp").innerHTML = "グラフの右上の四角が" +
"「盲目の領域」で、あなたは知らないけれど周りは知っているあなたのことを表します。例えば、どうしてもなじめない集団とかってないですか？" +
"そこでは、あなたの知らない何かがあなたに不足していて、それが理由であなたが拒絶されているのかもしれません。";
document.getElementById("secretExp").innerHTML = "グラフの左下の四角が「秘密の領域」で、あなたは知っているけれども周りはしらない" +
"あなたのことを表します。文字通り、あなたが秘密にし、周りに隠していることです。";
document.getElementById("unknownExp").innerHTML = "グラフの右下の四角が「未知の領域」で、だれも知らないあなたのことです。そこに何があるのかは、" +
"今のところ誰にもわかりません。";

</script>

<script>
function showDiv() {
   document.getElementById('welcomeDiv').style.display = "block";
}
</script>

      </div><!-- /.row -->

    </div><!-- /.container -->

    </div><!-- /.whiteback -->

    <!-- footer -->
      <footer class="blog-footer">
       <p>
          <a href="{% url 'stress:johari' %}">
            <p class="text-center">Back to top (回答結果はクリアされます)</p>
          </a>
       </p>
      </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{% static 'js/vendor/jquery.min.js' %}"><\/script>')</script>
    <script src="{% static 'js/jquery.backstretch.min.js' %}"></script>

    <script type="text/javascript">
       $.backstretch("../../../static/gallary/suzu19.jpg");
    </script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>
  </body>
</html>
